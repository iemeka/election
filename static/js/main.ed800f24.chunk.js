(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(17),l=n.n(a),i=(n(23),n(2)),s=(n(24),n(18)),r=n(4),j=n.n(r),o=(n(44),"https://learntnode.herokuapp.com/"),u=n(0);function b(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)([]),r=Object(i.a)(l,2),b=r[0],d=r[1],O=Object(c.useState)(""),h=Object(i.a)(O,2),m=h[0],x=h[1],p=Object(c.useState)(""),g=Object(i.a)(p,2),v=g[0],f=g[1],N=Object(c.useState)([]),_=Object(i.a)(N,2),y=_[0],w=_[1],S=Object(c.useState)(""),k=Object(i.a)(S,2),C=k[0],E=k[1],I=Object(c.useState)(""),P=Object(i.a)(I,2),U=P[0],q=P[1],L=Object(c.useState)(1),R=Object(i.a)(L,2),F=R[0],J=R[1],T=Object(c.useState)(1),B=Object(i.a)(T,2),D=B[0],G=B[1];Object(c.useEffect)((function(){j.a.get(o+"lga").then((function(e){a(e.data)}))}),[]),Object(c.useEffect)((function(){j.a.get(o+"ward/".concat(F)).then((function(e){d(e.data),G(e.data[0].ward_id)}))}),[F]);var W=function(){(0===v.trim().length||0===y.length?(x("Invalid Input. Please enter valid values in all text box. Note that party abbrevition should contain a maximum of 4 characters"),0):(x(""),1))&&j.a.post(o+"new_polling_unit",{wardId:Number(D),lgaId:Number(F),pollingUnitName:v,partyResults:y}).then((function(e){x("New Polling Unit added Successfully!"),w([]),f("")}))};return Object(u.jsxs)("form",{className:"main-content",onSubmit:function(e){e.preventDefault()},children:[Object(u.jsx)("div",{className:"title",children:Object(u.jsx)("h3",{children:"create polling unit"})}),Object(u.jsxs)("div",{className:"form-content",children:[Object(u.jsx)("div",{className:"msg",style:{display:0===m.trim().length?"none":"block"},children:m}),Object(u.jsxs)("div",{className:"select-lga",children:[Object(u.jsx)("label",{htmlFor:"lga",children:"Select Local Government"}),Object(u.jsx)("select",{onChange:function(e){return J(e.target.value)},name:"lga",id:"lga",className:"first-three",children:n.map((function(e){return Object(u.jsx)("option",{value:e.lga_id,children:e.lga_name},e.lga_id)}))})]}),Object(u.jsxs)("div",{className:"select-ward",children:[Object(u.jsx)("label",{htmlFor:"ward",children:"Select Ward"}),Object(u.jsx)("select",{onClick:function(e){return G(e.target.value)},name:"ward",className:"first-three",id:"ward",children:b.map((function(e,t){return Object(u.jsx)("option",{value:e.ward_id,children:e.ward_name},t)}))})]}),Object(u.jsxs)("div",{className:"unit-name",children:[Object(u.jsx)("label",{children:"Polling unit name"}),Object(u.jsx)("input",{type:"text",value:v,className:"first-three",onChange:function(e){return f(e.target.value)}})]}),Object(u.jsxs)("div",{className:"party-box",children:[Object(u.jsx)("label",{children:"Parties:"}),y.map((function(e,t){return Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:e.abbr})," ",Object(u.jsx)("span",{children:e.score})]},t)}))]}),Object(u.jsxs)("div",{className:"party-detail",children:[Object(u.jsx)("label",{children:"abbrevition"}),Object(u.jsx)("input",{type:"text",value:C,onChange:function(e){E(e.target.value)}})]}),Object(u.jsxs)("div",{className:"party-detail",children:[Object(u.jsx)("label",{children:"score"}),Object(u.jsx)("input",{type:"text",value:U,onChange:function(e){q(e.target.value)}})]}),Object(u.jsx)("div",{className:"add-party",children:Object(u.jsx)("button",{onClick:function(){0===U.length||0===C.length||C.length>4||isNaN(Number(U))||(w([].concat(Object(s.a)(y),[{abbr:C,score:Number(U)}])),E(""),q(""))},children:"add party"})})]}),Object(u.jsx)("div",{className:"submit",children:Object(u.jsx)("button",{onClick:function(){return W()},children:"Create"})})]})}function d(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)([]),s=Object(i.a)(l,2),r=s[0],b=s[1],d=Object(c.useState)(null),O=Object(i.a)(d,2),h=O[0],m=O[1];Object(c.useEffect)((function(){j.a.get(o+"lga").then((function(e){a(e.data)}))}),[]);return Object(u.jsxs)("div",{className:"main-content",children:[Object(u.jsx)("div",{className:"title",children:Object(u.jsx)("h3",{children:"local government Result"})}),0===n.length?Object(u.jsx)("span",{children:"Loading..."}):n.map((function(e){return Object(u.jsxs)("div",{className:"list-item",children:[Object(u.jsxs)("p",{onClick:function(){return t=e.lga_id,void j.a.get(o+"lga/polling_units/".concat(t)).then((function(e){b(e.data),m(t)}));var t},children:[e.lga_name," ",Object(u.jsx)("button",{children:"view result"})]}),Object(u.jsx)("div",{className:"sub-list",style:{display:h===e.lga_id?"block":"none"},children:0!==Object.keys(r).length?Object.keys(r).map((function(e,t){return Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:e})," ",Object(u.jsx)("span",{children:r[e]})]},t)})):Object(u.jsx)("div",{className:"no-data",children:"No data"})})]},e.lga_id)})),Object(u.jsx)("button",{className:"scroll",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"Up"})]})}function O(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)([]),s=Object(i.a)(l,2),r=s[0],b=s[1],d=Object(c.useState)(null),O=Object(i.a)(d,2),h=O[0],m=O[1];Object(c.useEffect)((function(){j.a.get(o+"polling_units").then((function(e){a(e.data.rows)}))}),[]);return Object(u.jsxs)("div",{className:"main-content",children:[Object(u.jsx)("div",{className:"title",children:Object(u.jsx)("h3",{children:"Polling Unit Result"})}),0===n.length?Object(u.jsx)("span",{children:"Loading..."}):n.map((function(e){return null===e.polling_unit_name||0===e.polling_unit_name.trim().length?null:Object(u.jsxs)("div",{className:"list-item",children:[Object(u.jsxs)("p",{onClick:function(){return t=e.uniqueid,void j.a.get(o+"polling_units/polling_unit/".concat(t)).then((function(e){b(e.data),m(t)}));var t},children:[e.polling_unit_name,Object(u.jsx)("button",{children:"view result"})]}),Object(u.jsx)("div",{className:"sub-list",style:{display:h===e.uniqueid?"block":"none"},children:0===Object.keys(r).length?Object(u.jsx)("div",{className:"no-data",children:"No data"}):r.map((function(e,t){return Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:e.party_abbreviation})," ",Object(u.jsx)("span",{children:e.party_score})]},t)}))})]},e.uniqueid)})),Object(u.jsx)("button",{className:"scroll",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"Up"})]})}var h=function(){var e=Object(c.useState)(Object(u.jsx)(O,{})),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"nav",children:[Object(u.jsx)("button",{onClick:function(){return a(Object(u.jsx)(O,{}))},children:"polling unit result"}),Object(u.jsx)("button",{onClick:function(){return a(Object(u.jsx)(d,{}))},children:"local government result"}),Object(u.jsx)("button",{onClick:function(){return a(Object(u.jsx)(b,{}))},children:"create polling unit"})]}),Object(u.jsx)("div",{className:"content",children:n})]})};l.a.render(Object(u.jsx)(h,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.ed800f24.chunk.js.map