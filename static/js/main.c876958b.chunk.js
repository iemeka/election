(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(17),i=n.n(a),l=(n(23),n(2)),r=(n(24),n(18)),s=n(4),u=n.n(s),j=(n(44),"https://learntnode.herokuapp.com/"),o=n(0);function b(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),s=Object(l.a)(i,2),b=s[0],d=s[1],O=Object(c.useState)(""),h=Object(l.a)(O,2),g=h[0],p=h[1],x=Object(c.useState)(""),f=Object(l.a)(x,2),v=f[0],m=f[1],y=Object(c.useState)([]),S=Object(l.a)(y,2),_=S[0],k=S[1],N=Object(c.useState)(""),w=Object(l.a)(N,2),C=w[0],I=w[1],P=Object(c.useState)(""),E=Object(l.a)(P,2),L=E[0],q=E[1],U=Object(c.useState)(0),F=Object(l.a)(U,2),J=F[0],A=F[1],B=Object(c.useState)(0),D=Object(l.a)(B,2),G=D[0],R=D[1];Object(c.useEffect)((function(){u.a.get(j+"lga").then((function(e){a(e.data)})),u.a.get(j+"ward").then((function(e){d(e.data)}))}),[]);var W=function(){(0===v.trim().length||0===_.length?(p("Invalid Input. Please enter valid values in all text box. Note that party abbrevition should contain a maximum of 4 characters"),0):(p(""),1))&&u.a.post(j+"new_polling_unit",{wardId:Number(G),lgaId:Number(J),pollingUnitName:v,partyResults:_}).then((function(e){console.log(e),p("New Polling Unit added Successfully!")}))};return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)("div",{className:"new-unit",children:[Object(o.jsx)("div",{children:g}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"lga",children:"Select Local Government"}),Object(o.jsx)("select",{onChange:function(e){return A(e.target.value)},name:"lga",id:"lga",children:n.map((function(e){return Object(o.jsx)("option",{value:e.lga_id,children:e.lga_name},e.lga_id)}))})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"ward",children:"Select Ward"}),Object(o.jsx)("select",{onClick:function(e){return R(e.target.value)},name:"ward",id:"ward",children:b.map((function(e,t){return Object(o.jsx)("option",{value:e.ward_id,children:e.ward_name},t)}))})]}),Object(o.jsxs)("div",{children:["Polling unit name",Object(o.jsx)("input",{type:"text",onChange:function(e){return m(e.target.value)}})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"party-box",children:[Object(o.jsx)("span",{children:"added Parties"}),_.map((function(e,t){return Object(o.jsxs)("p",{children:[e.abbr,"-",e.score]},t)}))]}),"name",Object(o.jsx)("input",{type:"text",value:C,onChange:function(e){I(e.target.value)}}),"score",Object(o.jsx)("input",{type:"text",value:L,onChange:function(e){q(e.target.value)}}),Object(o.jsx)("button",{onClick:function(){0===L.length||0===C.length||C.length>4||isNaN(Number(L))||(k([].concat(Object(r.a)(_),[{abbr:C,score:Number(L)}])),I(""),q(""))},children:"add party"})]}),Object(o.jsx)("button",{onClick:function(){return W()},children:"Create"})]})})}n(46);function d(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),r=Object(l.a)(i,2),s=r[0],b=r[1],d=Object(c.useState)(null),O=Object(l.a)(d,2),h=O[0],g=O[1];return Object(c.useEffect)((function(){u.a.get(j+"lga").then((function(e){a(e.data)}))}),[]),Object(o.jsx)("div",{className:"allLga",children:0===n.length?"Loading...":n.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{onClick:function(){return t=e.lga_id,void u.a.get(j+"lga/polling_units/".concat(t)).then((function(e){console.log(e.data),b(e.data),g(t)}));var t},children:e.lga_name}),Object(o.jsx)("div",{style:{height:"auto",background:"lightgrey",display:h===e.lga_id?"block":"none"},children:0!==Object.keys(s).length?Object.keys(s).map((function(e){return Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{children:e})," ",Object(o.jsx)("span",{children:s[e]})]})})):"No Data"})]},e.lga_id)}))})}n(47);function O(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),r=Object(l.a)(i,2),s=r[0],b=r[1],d=Object(c.useState)(null),O=Object(l.a)(d,2),h=O[0],g=O[1];return Object(c.useEffect)((function(){u.a.get(j+"polling_units").then((function(e){a(e.data.rows)}))}),[]),Object(o.jsx)("div",{className:"allPollingUnits",children:0===n.length?"Loading...":n.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{onClick:function(){return t=e.uniqueid,void u.a.get(j+"polling_units/polling_unit/".concat(t)).then((function(e){console.log(e.data),b(e.data),g(t)}));var t},children:e.polling_unit_name}),Object(o.jsx)("div",{className:"parties",style:{height:"auto",background:"lightgrey",display:h===e.uniqueid?"block":"none"},children:0===Object.keys(s).length?"No data":s.map((function(e){return Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{children:e.party_abbreviation})," ",Object(o.jsx)("span",{children:e.party_score})]})}))})]},e.uniqueid)}))})}var h=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){return a(Object(o.jsx)(O,{}))},children:"polling unit result"}),Object(o.jsx)("button",{onClick:function(){return a(Object(o.jsx)(d,{}))},children:"government result"}),Object(o.jsx)("button",{onClick:function(){return a(Object(o.jsx)(b,{}))},children:"create polling unit"})]}),Object(o.jsx)("div",{children:n})]})};i.a.render(Object(o.jsx)(h,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.c876958b.chunk.js.map