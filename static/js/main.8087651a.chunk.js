(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(17),l=n.n(a),s=(n(23),n(2)),i=(n(24),n(18)),r=n(4),j=n.n(r),u=(n(44),"https://learntnode.herokuapp.com/"),b=n(0);function o(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)([]),r=Object(s.a)(l,2),o=r[0],d=r[1],O=Object(c.useState)(""),h=Object(s.a)(O,2),m=h[0],x=h[1],g=Object(c.useState)(""),p=Object(s.a)(g,2),v=p[0],f=p[1],N=Object(c.useState)([]),y=Object(s.a)(N,2),_=y[0],S=y[1],k=Object(c.useState)(""),w=Object(s.a)(k,2),C=w[0],I=w[1],P=Object(c.useState)(""),E=Object(s.a)(P,2),q=E[0],L=E[1],R=Object(c.useState)(0),U=Object(s.a)(R,2),F=U[0],J=U[1],B=Object(c.useState)(0),D=Object(s.a)(B,2),G=D[0],W=D[1];Object(c.useEffect)((function(){j.a.get(u+"lga").then((function(e){a(e.data)})),j.a.get(u+"ward").then((function(e){d(e.data)}))}),[]);var z=function(){(0===v.trim().length||0===_.length?(x("Invalid Input. Please enter valid values in all text box. Note that party abbrevition should contain a maximum of 4 characters"),0):(x(""),1))&&j.a.post(u+"new_polling_unit",{wardId:Number(G),lgaId:Number(F),pollingUnitName:v,partyResults:_}).then((function(e){console.log(e),x("New Polling Unit added Successfully!"),S([]),f("")}))};return Object(b.jsxs)("form",{className:"main-content",onSubmit:function(e){e.preventDefault()},children:[Object(b.jsx)("div",{className:"title",children:Object(b.jsx)("h3",{children:"create polling unit"})}),Object(b.jsxs)("div",{className:"form-content",children:[Object(b.jsx)("div",{className:"msg",style:{display:0===m.trim().length?"none":"block"},children:m}),Object(b.jsxs)("div",{className:"select-lga",children:[Object(b.jsx)("label",{htmlFor:"lga",children:"Select Local Government"}),Object(b.jsx)("select",{onChange:function(e){return J(e.target.value)},name:"lga",id:"lga",className:"first-three",children:n.map((function(e){return Object(b.jsx)("option",{value:e.lga_id,children:e.lga_name},e.lga_id)}))})]}),Object(b.jsxs)("div",{className:"select-ward",children:[Object(b.jsx)("label",{htmlFor:"ward",children:"Select Ward"}),Object(b.jsx)("select",{onClick:function(e){return W(e.target.value)},name:"ward",className:"first-three",id:"ward",children:o.map((function(e,t){return Object(b.jsx)("option",{value:e.ward_id,children:e.ward_name},t)}))})]}),Object(b.jsxs)("div",{className:"unit-name",children:[Object(b.jsx)("label",{children:"Polling unit name"}),Object(b.jsx)("input",{type:"text",value:v,className:"first-three",onChange:function(e){return f(e.target.value)}})]}),Object(b.jsxs)("div",{className:"party-box",children:[Object(b.jsx)("label",{children:"Parties:"}),_.map((function(e,t){return Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:e.abbr})," ",Object(b.jsx)("span",{children:e.score})]},t)}))]}),Object(b.jsxs)("div",{className:"party-detail",children:[Object(b.jsx)("label",{children:"abbrevition"}),Object(b.jsx)("input",{type:"text",value:C,onChange:function(e){I(e.target.value)}})]}),Object(b.jsxs)("div",{className:"party-detail",children:[Object(b.jsx)("label",{children:"score"}),Object(b.jsx)("input",{type:"text",value:q,onChange:function(e){L(e.target.value)}})]}),Object(b.jsx)("div",{className:"add-party",children:Object(b.jsx)("button",{onClick:function(){0===q.length||0===C.length||C.length>4||isNaN(Number(q))||(S([].concat(Object(i.a)(_),[{abbr:C,score:Number(q)}])),I(""),L(""))},children:"add party"})})]}),Object(b.jsx)("div",{className:"submit",children:Object(b.jsx)("button",{onClick:function(){return z()},children:"Create"})})]})}function d(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)([]),i=Object(s.a)(l,2),r=i[0],o=i[1],d=Object(c.useState)(null),O=Object(s.a)(d,2),h=O[0],m=O[1];return Object(c.useEffect)((function(){j.a.get(u+"lga").then((function(e){a(e.data)}))}),[]),Object(b.jsxs)("div",{className:"main-content",children:[Object(b.jsx)("div",{className:"title",children:Object(b.jsx)("h3",{children:"local government Result"})}),0===n.length?Object(b.jsx)("span",{children:"Loading..."}):n.map((function(e){return Object(b.jsxs)("div",{className:"list-item",children:[Object(b.jsxs)("p",{onClick:function(){return t=e.lga_id,void j.a.get(u+"lga/polling_units/".concat(t)).then((function(e){console.log(e.data),o(e.data),m(t)}));var t},children:[e.lga_name," ",Object(b.jsx)("button",{children:"view result"})]}),Object(b.jsx)("div",{className:"sub-list",style:{display:h===e.lga_id?"block":"none"},children:0!==Object.keys(r).length?Object.keys(r).map((function(e){return Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:e})," ",Object(b.jsx)("span",{children:r[e]})]})})):Object(b.jsx)("div",{className:"no-data",children:"No data"})})]},e.lga_id)}))]})}function O(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],l=Object(c.useState)([]),i=Object(s.a)(l,2),r=i[0],o=i[1],d=Object(c.useState)(null),O=Object(s.a)(d,2),h=O[0],m=O[1];return Object(c.useEffect)((function(){j.a.get(u+"polling_units").then((function(e){a(e.data.rows)}))}),[]),Object(b.jsxs)("div",{className:"main-content",children:[Object(b.jsx)("div",{className:"title",children:Object(b.jsx)("h3",{children:"Polling Unit Result"})}),0===n.length?Object(b.jsx)("span",{children:"Loading..."}):n.map((function(e){return 0===e.polling_unit_name.trim().length?null:Object(b.jsxs)("div",{className:"list-item",children:[Object(b.jsxs)("p",{onClick:function(){return t=e.uniqueid,void j.a.get(u+"polling_units/polling_unit/".concat(t)).then((function(e){console.log(e.data),o(e.data),m(t)}));var t},children:[e.polling_unit_name,Object(b.jsx)("button",{children:"view result"})]}),Object(b.jsx)("div",{className:"sub-list",style:{display:h===e.uniqueid?"block":"none"},children:0===Object.keys(r).length?Object(b.jsx)("div",{className:"no-data",children:"No data"}):r.map((function(e){return Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:e.party_abbreviation})," ",Object(b.jsx)("span",{children:e.party_score})]})}))})]},e.uniqueid)}))]})}var h=function(){var e=Object(c.useState)(Object(b.jsx)(O,{})),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"nav",children:[Object(b.jsx)("button",{onClick:function(){return a(Object(b.jsx)(O,{}))},children:"polling unit result"}),Object(b.jsx)("button",{onClick:function(){return a(Object(b.jsx)(d,{}))},children:"local government result"}),Object(b.jsx)("button",{onClick:function(){return a(Object(b.jsx)(o,{}))},children:"create polling unit"})]}),Object(b.jsx)("div",{className:"content",children:n})]})};l.a.render(Object(b.jsx)(h,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.8087651a.chunk.js.map